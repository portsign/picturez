{"version":3,"sources":["jquery.bubble-slider.js"],"names":["$","BubbleSlider","element","options","ref","ref1","ref10","ref2","ref3","ref4","ref5","ref6","ref7","ref8","ref9","this","hide","min","attr","max","step","value","decimals","data","prefix","postfix","color","bgColor","bubbleColor","bubbleBgColor","parseFloat","removeCommas","slider","addClass","insertAfter","minus","appendTo","plus","track","thumb","bubble","bubbleArrow","prependTo","css","children","first","dragging","limit","thumbOffset","outerWidth","bubbleNumber","find","setValue","positionThumb","on","_this","event","preventDefault","type","dragThumb","originalEvent","touches","pageX","newValue","Math","window","prototype","maxPosition","minPosition","newPosition","offset","left","calcValue","trackRatio","normalize","position","modValue","round","val","addCommas","toFixed","text","thumbRatio","number","num","toString","replace","fn","bubbleSlider","defaults","settings","extend","each","jQuery","call"],"mappings":"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","file":"jquery.bubble-slider.js","sourcesContent":["\n/*!\n * Bubble Slider\n * https://github.com/dahjson/bubble-slider\n * Copyright (c) Daniel Johnson\n * MIT License\n */\n\n(function() {\n  (function($) {\n    var BubbleSlider;\n    BubbleSlider = (function() {\n      function BubbleSlider(element, options) {\n        var ref, ref1, ref10, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9;\n        this.element = element;\n        this.element.hide();\n        this.min = (ref = this.element.attr('min')) != null ? ref : options.min;\n        this.max = (ref1 = this.element.attr('max')) != null ? ref1 : options.max;\n        this.step = (ref2 = this.element.attr('step')) != null ? ref2 : options.step;\n        this.value = (ref3 = this.element.attr('value')) != null ? ref3 : (options.max - options.min) / 2 + options.min;\n        this.decimals = (ref4 = this.element.data('decimals')) != null ? ref4 : options.decimals;\n        this.prefix = (ref5 = this.element.data('prefix')) != null ? ref5 : options.prefix;\n        this.postfix = (ref6 = this.element.data('postfix')) != null ? ref6 : options.postfix;\n        this.color = (ref7 = this.element.data('color')) != null ? ref7 : options.color;\n        this.bgColor = (ref8 = this.element.data('bg-color')) != null ? ref8 : options.bgColor;\n        this.bubbleColor = (ref9 = this.element.data('bubble-color')) != null ? ref9 : options.bubbleColor;\n        this.bubbleBgColor = (ref10 = this.element.data('bubble-bg-color')) != null ? ref10 : options.bubbleBgColor;\n        this.min = parseFloat(this.removeCommas(this.min));\n        this.max = parseFloat(this.removeCommas(this.max));\n        this.step = parseFloat(this.removeCommas(this.step));\n        this.value = parseFloat(this.removeCommas(this.value));\n        this.decimals = parseFloat(this.removeCommas(this.decimals));\n        this.slider = $('<div>').addClass('bubble-slider-wrap').insertAfter(this.element);\n        this.minus = $('<div><span>-</span></div>').addClass('bubble-slider-minus').appendTo(this.slider);\n        this.plus = $('<div><span>+</span></div>').addClass('bubble-slider-plus').appendTo(this.slider);\n        this.track = $('<div>').addClass('bubble-slider-track').appendTo(this.slider);\n        this.thumb = $('<div>').addClass('bubble-slider-thumb').appendTo(this.track);\n        this.bubble = $('<div><span>').addClass('bubble-slider-bubble').appendTo(this.thumb);\n        this.bubbleArrow = $('<div>').addClass('bubble-slider-bubble-arrow').prependTo(this.bubble);\n        if (this.color) {\n          this.minus.css('color', this.color);\n          this.plus.css('color', this.color);\n          this.thumb.css('background', this.color);\n        }\n        if (this.bgColor) {\n          this.minus.css('border-color', this.bgColor);\n          this.plus.css('border-color', this.bgColor);\n          this.track.css('background', this.bgColor);\n        }\n        if (this.bubbleColor) {\n          this.bubble.children('span').first().css('color', this.bubbleColor);\n        }\n        if (this.bubbleBgColor) {\n          this.bubbleArrow.css('background', this.bubbleBgColor);\n          this.bubble.children('span').first().css('background', this.bubbleBgColor);\n        }\n        this.dragging = false;\n        this.limit = 1000;\n        this.thumbOffset = this.thumb.outerWidth() / 2;\n        this.bubbleNumber = this.bubble.find('span').first();\n        this.setValue(this.value);\n        this.positionThumb(this.value);\n        this.thumb.css('-ms-touch-action', 'none');\n        this.thumb.on('mousedown touchstart', (function(_this) {\n          return function(event) {\n            if (!_this.dragging) {\n              event.preventDefault();\n              return _this.dragging = true;\n            }\n          };\n        })(this));\n        $('html').on('mousemove touchmove', (function(_this) {\n          return function(event) {\n            if (_this.dragging) {\n              event.preventDefault();\n              if (event.type === 'touchmove') {\n                return _this.dragThumb(event.originalEvent.touches[0].pageX);\n              } else {\n                return _this.dragThumb(event.originalEvent.pageX);\n              }\n            }\n          };\n        })(this)).on('mouseup touchend', (function(_this) {\n          return function(event) {\n            if (_this.dragging) {\n              event.preventDefault();\n              return _this.dragging = false;\n            }\n          };\n        })(this));\n        this.minus.on('click', (function(_this) {\n          return function(event) {\n            var newValue;\n            event.preventDefault();\n            newValue = _this.value - _this.step;\n            newValue = Math.max(_this.min, newValue);\n            _this.setValue(newValue);\n            return _this.positionThumb(newValue);\n          };\n        })(this));\n        this.plus.on('click', (function(_this) {\n          return function(event) {\n            var newValue;\n            event.preventDefault();\n            newValue = _this.value + _this.step;\n            newValue = Math.min(_this.max, newValue);\n            _this.setValue(newValue);\n            return _this.positionThumb(newValue);\n          };\n        })(this));\n        $(window).on('resize onorientationchange', (function(_this) {\n          return function() {\n            return _this.positionThumb(_this.value);\n          };\n        })(this));\n      }\n\n      BubbleSlider.prototype.dragThumb = function(pageX) {\n        var maxPosition, minPosition, newPosition;\n        minPosition = this.track.offset().left + this.thumbOffset;\n        maxPosition = this.track.offset().left + this.track.outerWidth() - this.thumbOffset;\n        newPosition = Math.max(minPosition, pageX);\n        newPosition = Math.min(maxPosition, newPosition);\n        this.setValue(this.calcValue());\n        return this.thumb.offset({\n          left: newPosition - this.thumbOffset\n        });\n      };\n\n      BubbleSlider.prototype.calcValue = function() {\n        var trackRatio;\n        trackRatio = this.normalize(this.thumb.position().left, 0, this.track.outerWidth() - this.thumbOffset * 2);\n        return trackRatio * (this.max - this.min) + this.min;\n      };\n\n      BubbleSlider.prototype.setValue = function(value) {\n        var modValue;\n        this.value = Math.round((value - this.min) / this.step) * this.step + this.min;\n        this.element.val(this.value);\n        modValue = this.prefix + this.addCommas(this.value.toFixed(this.decimals)) + this.postfix;\n        return this.bubbleNumber.text(modValue);\n      };\n\n      BubbleSlider.prototype.positionThumb = function(value) {\n        var thumbRatio;\n        thumbRatio = this.normalize(value, this.min, this.max);\n        return this.thumb.offset({\n          left: Math.round(thumbRatio * (this.track.outerWidth() - this.thumbOffset * 2) + this.track.offset().left)\n        });\n      };\n\n      BubbleSlider.prototype.normalize = function(number, min, max) {\n        return (number - min) / (max - min);\n      };\n\n      BubbleSlider.prototype.addCommas = function(num) {\n        return num.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\n      };\n\n      BubbleSlider.prototype.removeCommas = function(num) {\n        return num.toString().replace(/,/g, '');\n      };\n\n      return BubbleSlider;\n\n    })();\n    $.fn.bubbleSlider = function(options) {\n      var defaults, settings;\n      defaults = {\n        min: 0,\n        max: 100,\n        step: 1,\n        value: 50,\n        decimals: 0,\n        prefix: '',\n        postfix: '',\n        color: '',\n        bgColor: '',\n        bubbleColor: '',\n        bubbleBgColor: ''\n      };\n      settings = $.extend({}, defaults, $.fn.bubbleSlider.defaults, options);\n      return new BubbleSlider($(this), settings);\n    };\n    return $(function() {\n      return $('.bubble-slider').each(function() {\n        return $(this).bubbleSlider();\n      });\n    });\n  })(this.jQuery);\n\n}).call(this);\n"],"sourceRoot":"/source/"}